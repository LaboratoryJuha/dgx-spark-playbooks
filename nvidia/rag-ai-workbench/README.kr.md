# AI Workbench의 RAG 애플리케이션

> AI Workbench를 설치하고 사용하여 재현 가능한 RAG 애플리케이션을 복제하고 실행합니다

## 목차

- [개요](#개요)
- [지침](#지침)
- [문제 해결](#문제-해결)

---

## 개요

## 기본 개념

이 가이드는 NVIDIA AI Workbench를 사용하여 에이전트 기반 검색 증강 생성(RAG) 프로젝트를 설정하고 실행하는 방법을 보여줍니다. AI Workbench를 사용하여 쿼리를 지능적으로 라우팅하고, 관련성과 환각에 대한 응답을 평가하며, 평가 및 생성 사이클을 반복하는 사전 구축된 에이전트 RAG 애플리케이션을 복제하고 실행합니다. 이 프로젝트는 Gradio 웹 인터페이스를 사용하며 NVIDIA 호스팅 API 엔드포인트 또는 자체 호스팅 모델과 함께 작동할 수 있습니다.

## 달성할 목표

웹 인터페이스를 통해 쿼리를 제출하고 지능적인 응답을 받을 수 있는 NVIDIA AI Workbench에서 실행되는 완전한 기능의 에이전트 RAG 애플리케이션을 갖게 됩니다. 이 시스템은 쿼리 라우팅, 응답 평가 및 반복적 개선을 포함한 고급 RAG 기능을 시연하여 AI Workbench의 개발 환경과 정교한 RAG 아키텍처 모두에 대한 실습 경험을 제공합니다.

## 시작하기 전에 알아야 할 사항

- 검색 증강 생성(RAG) 개념에 대한 기본적인 이해
- API 키 및 생성 방법에 대한 이해
- 웹 애플리케이션 및 브라우저 인터페이스 작업에 익숙함
- 컨테이너화된 개발 환경에 대한 기본 이해

## 필수 사항

**하드웨어 요구사항:**
-  NVIDIA Grace Blackwell GB10 Superchip 시스템

**소프트웨어 요구사항:**
- NVIDIA AI Workbench 설치 완료 또는 설치 준비
- 무료 NVIDIA API 키: [NGC API Keys](https://org.ngc.nvidia.com/setup/api-keys)에서 생성
- 무료 Tavily API 키: [Tavily](https://tavily.com/)에서 생성
- 리포지토리 복제 및 API 액세스를 위한 인터넷 연결
- Gradio 인터페이스 액세스를 위한 웹 브라우저

## 검증 명령

- DGX Spark 시스템에 NVIDIA AI Workbench 애플리케이션이 있는지 확인
- API 키가 유효하고 최신인지 확인


## 시간 및 위험도

* **예상 시간:** 30-45분 (필요한 경우 AI Workbench 설치 포함)
* **위험도:** 낮음 - 사전 구축된 컨테이너 및 검증된 API 사용
* **롤백:** AI Workbench에서 복제된 프로젝트를 삭제하기만 하면 모든 구성 요소가 제거됩니다. AI Workbench 환경 외부에서는 시스템 변경이 이루어지지 않습니다.
* **마지막 업데이트:** 10/28/2025
  * 소규모 편집

## 지침

## 1단계. NVIDIA AI Workbench 설치

DGX Spark 시스템에 AI Workbench를 설치하고 초기 설정 마법사를 완료합니다.

DGX Spark에서 **NVIDIA AI Workbench** 애플리케이션을 열고 "Begin Installation"을 클릭합니다.

1. 설치 마법사가 인증을 요청합니다
2. 자동 설치가 완료될 때까지 기다립니다 (몇 분 소요)
3. 설치가 완료되면 "Let's Get Started"를 클릭합니다

> [!NOTE]
> 다음 오류 메시지가 표시되면 DGX Spark를 재부팅한 다음 NVIDIA AI Workbench를 다시 엽니다:
> "An error occurred ... container tool failed to reach ready state. try again: docker is not running"

## 2단계. API 키 요구사항 확인

다음으로 프로젝트 설정을 진행하기 전에 필요한 두 개의 API 키가 있는지 확인해야 합니다. 이 키들을 안전하게 보관하세요!

* Tavily API 키: https://tavily.com/
* NVIDIA API 키: https://org.ngc.nvidia.com/setup/api-keys
* 이 키가 ``Public API Endpoints`` 권한을 가지고 있는지 확인합니다

다음 단계를 위해 두 키를 모두 준비해 두세요.

## 3단계. 에이전트 RAG 프로젝트 복제

GitHub에서 사전 구축된 에이전트 RAG 프로젝트를 AI Workbench 환경에 복제합니다.

AI Workbench 랜딩 페이지에서 아직 선택하지 않았다면 **Local** 위치를 선택한 다음 오른쪽 상단 모서리에서 "Clone Project"를 클릭합니다.

복제 대화 상자에 다음 Git 리포지토리 URL을 붙여넣습니다: https://github.com/NVIDIA/workbench-example-agentic-rag

"Clone"을 클릭하여 복제 및 빌드 프로세스를 시작합니다.

## 4단계. 프로젝트 시크릿 구성

에이전트 RAG 애플리케이션이 제대로 작동하는 데 필요한 API 키를 구성할 수 있습니다.

프로젝트가 빌드되는 동안 나타나는 노란색 경고 배너를 사용하여 API 키를 구성합니다:

1. 노란색 배너에서 "Configure"를 클릭합니다
2. ``NVIDIA_API_KEY``를 입력합니다
3. ``TAVILY_API_KEY``를 입력합니다
4. 구성을 저장합니다

계속하기 전에 프로젝트 빌드가 완료될 때까지 기다립니다.

## 5단계. 챗 애플리케이션 시작

이제 에이전트 RAG 시스템과 상호 작용할 수 있는 웹 기반 챗 인터페이스를 시작할 수 있습니다.

**Environment** > **Project Container** > **Apps** > **Chat**으로 이동하여 웹 애플리케이션을 시작합니다.

브라우저 창이 자동으로 열리고 Gradio 챗 인터페이스가 로드됩니다.

## 6단계. 기본 기능 테스트

샘플 쿼리를 제출하여 에이전트 RAG 시스템이 작동하는지 확인합니다.

챗 애플리케이션에서 다음과 같은 샘플 쿼리를 클릭하거나 입력합니다: `How do I add an integration in the CLI?`

에이전트 시스템이 처리하고 응답할 때까지 기다립니다. 응답은 일반적이지만 지능적인 라우팅 및 평가를 보여줄 것입니다.

## 7단계. 프로젝트 검증

핵심 기능을 테스트하여 설정이 올바르게 작동하는지 확인합니다.

다음 구성 요소가 작동하는지 확인합니다:

* 웹 애플리케이션이 오류 없이 로드됨
* 샘플 쿼리가 응답을 반환함
* API 인증 오류가 나타나지 않음
* "Monitor" 아래의 인터페이스에서 에이전트 추론 프로세스가 표시됨

## 8단계. 선택적 퀵스타트 완료

데이터를 업로드하고, 컨텍스트를 검색하고, 사용자 정의 쿼리를 테스트하여 고급 기능을 평가할 수 있습니다.

**하위 단계 A: 샘플 데이터셋 업로드**
앱 내 퀵스타트 지침을 완료하여 샘플 데이터셋을 업로드하고 개선된 RAG 기반 응답을 테스트합니다.

**하위 단계 B: 사용자 정의 데이터셋 테스트 (선택 사항)**
사용자 정의 데이터셋을 업로드하고 라우터 프롬프트를 조정한 다음 사용자 정의 쿼리를 제출하여 커스터마이제이션을 테스트합니다.

## 10단계. 정리 및 롤백

필요한 경우 프로젝트를 제거할 수 있습니다.

> [!WARNING]
> 이렇게 하면 프로젝트와 모든 관련 데이터가 영구적으로 삭제됩니다.

프로젝트를 완전히 제거하려면:

1. AI Workbench에서 프로젝트 옆의 점 세 개를 클릭합니다
2. "Delete Project"를 선택합니다
3. 메시지가 표시되면 삭제를 확인합니다

> [!NOTE]
> 모든 변경 사항은 AI Workbench 내에 포함됩니다. AI Workbench 환경 외부에서는 시스템 수준 수정이 이루어지지 않았습니다.

## 11단계. 다음 단계

에이전트 RAG 시스템으로 추가 고급 기능 및 개발 옵션을 탐색할 수도 있습니다:

* 프로젝트 코드에서 구성 요소 프롬프트 수정
* 라우팅 및 커스터마이제이션을 테스트하기 위해 다양한 문서 업로드
* 다양한 쿼리 유형 및 복잡성 수준 실험
* "Monitor" 탭에서 에이전트 추론 로그를 검토하여 의사 결정 이해

Gradio UI를 커스터마이징하거나 에이전트 RAG 구성 요소를 자신의 프로젝트에 통합하는 것을 고려해 보세요.

## 문제 해결

| 증상 | 원인 | 해결 방법 |
|---------|-------|-----|
| Tavily API 오류 | 인터넷 연결 또는 DNS 문제 | 쿼리를 기다렸다가 다시 시도 |
| 401 Unauthorized | 잘못되었거나 형식이 잘못된 API 키 | Project Secrets에서 키를 교체하고 다시 시작 |
| 403 Unauthorized | API 키에 권한이 부족함 | 적절한 액세스 권한으로 새 키 생성 |
| 에이전트 루프 시간 초과 | 시간 제한을 초과하는 복잡한 쿼리 | 더 간단한 쿼리를 시도하거나 다시 시도 |


최신 알려진 문제는 [DGX Spark 사용자 가이드](https://docs.nvidia.com/dgx/dgx-spark/known-issues.html)를 검토하세요.
